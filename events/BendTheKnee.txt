namespace = bendtheknee
country_event = {
	id = bendtheknee.1
	title = "bendtheknee.1.t"
	desc = "bendtheknee.1.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			OR = {
				tag = KOL
				tag = LIE
				tag = TRI
				tag = MUN
			}
			religion = waldensian
		}
		NOT = {
			has_country_flag = screw_pope
		}
		NOT = {
			has_country_flag = hail_popeman
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	immediate = {
	}
	option = {
		name = "bendtheknee.1.a"
		add_stability = 1
		add_prestige = 50
		set_country_flag = screw_pope
	}
	option = {
		name = "bendtheknee.1.b"
		add_stability = -1
		add_prestige = -50
		add_treasury = 100
		change_religion = catholic
		set_country_flag = hail_popeman
	}
}

country_event = {
	id = bendtheknee.2
	title = "bendtheknee.2.t"
	desc = "bendtheknee.2.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			OR = {
				tag = ENG
				tag = SCO
				tag = GBR
			}
			religion = lollard
		}
		NOT = {
			has_country_flag = screw_pope
		}
		NOT = {
			has_country_flag = hail_popeman
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	immediate = {
	}
	option = {
		name = "bendtheknee.2.a"
		add_stability = 1
		add_prestige = 50
		set_country_flag = screw_pope
	}
	option = {
		name = "bendtheknee.2.b"
		add_stability = -1
		add_prestige = -50
		add_treasury = 100
		change_religion = catholic
		set_country_flag = hail_popeman
	}
}

country_event = {
	id = bendtheknee.3
	title = "bendtheknee.3.t"
	desc = "bendtheknee.3.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		religion = catholic
		is_religion_enabled = protestant
		NOT = {
			culture_group = latin
		}
		NOT = {
			culture_group = iberian
		}
		NOT = {
			culture_group = gaelic
		}
		NOT = {
			has_country_flag = screw_pope
		}
		NOT = {
			has_country_flag = hail_popeman
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
	}
	option = {
		name = "bendtheknee.3.a"
		add_prestige = 50
		change_religion = fraticelli
		set_country_flag = screw_pope
	}
	option = {
		name = "bendtheknee.3.b"
		add_stability = 1
		add_treasury = 100
		set_country_flag = hail_popeman
	}
}

country_event = {
	id = bendtheknee.4
	title = "bendtheknee.4.t"
	desc = "bendtheknee.4.d"
	picture = POPE_PREACHING_eventPicture
	hidden = yes
	trigger = {
		NOT = {
			is_emperor = yes
		}
		NOT = {
			is_emperor_of_china = yes
		}
		NOT = {
			has_country_flag = empire_name
		}
		NOT = {
			has_country_flag = minoa_flag
		}
		government_rank = 3
	}
	mean_time_to_happen = {
		days = 30
	}
	immediate = {
		set_country_flag = empire_name
		empire_name_effect = yes
	}
	option = {
		name = "bendtheknee.4.a"
	}
}

country_event = {
	id = bendtheknee.5
	title = "bendtheknee.5.t"
	desc = "bendtheknee.5.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		tag = HAB
	}
	mean_time_to_happen = {
		days = 3650
	}
	option = {
		name = "bendtheknee.5.a"
		hidden_effect = {
			set_hre_religion_treaty = yes
			set_hre_religion = catholic
			set_hre_religion_treaty = no
			set_hre_religion_locked = yes
			set_hre_religion_locked = no
		}
	}
}

country_event = {
	id = bendtheknee.6
	title = "bendtheknee.6.t"
	desc = "bendtheknee.6.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		NOT = {
			ai = yes
		}
		OR = {
			tag = TKT
			tag = KNI
		}
		OR = {
			IF = {
				limit = {
					tag = KNI
					NOT = {
						has_ruler = "Jean Bonpar de Lastic"
					}
				}
			}
			IF = {
				limit = {
					tag = TKT
					NOT = {
						has_ruler = "Alain de Barrau"
					}
				}
			}
		}
	}
	option = {
		name = "bendtheknee.6.a"
		IF = {
			limit = {
				tag = KNI
				TKT = {
					ai = yes
				}
			}
			inherit = TKT
		}
		IF = {
			limit = {
				tag = TKT
				KNI = {
					ai = yes
				}
			}
			inherit = KNI
		}
		IF = {
			limit = {
				tag = KNI
				TKT = {
					NOT = {
						ai = yes
					}
				}
			}
			vassalize = TKT
		}
		IF = {
			limit = {
				tag = TKT
				KNI = {
					NOT = {
						ai = yes
					}
				}
			}
			vassalize = KNI
		}
	}
}

country_event = {
	id = bendtheknee.7
	title = "bendtheknee.7.t"
	desc = "bendtheknee.7.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			OR = {
				tag = TKT
				tag = RIG
				tag = KNI
				tag = TEU
				tag = LIV
			}
		}
		NOT = {
			has_country_flag = screw_pope_subject
		}
		NOT = {
			has_country_flag = hail_popeman_subject
		}
	}
	mean_time_to_happen = {
		months = 12
	}
	immediate = {
		PAP = {
			set_country_flag = pope_asks_for_subjects
		}
	}
	option = {
		name = "bendtheknee.7.a"
		set_country_flag = hail_popeman_subject
		ai_chance = {
			factor = 95
		}
	}
	option = {
		name = "bendtheknee.7.b"
		set_country_flag = screw_pope_subject
		ai_chance = {
			factor = 5
		}
	}
}

country_event = {
	id = bendtheknee.8
	title = "bendtheknee.8.t"
	desc = "bendtheknee.8.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		tag = PAP
		has_country_flag = pope_asks_for_subjects
	}
	mean_time_to_happen = {
		months = 120
	}
	option = {
		name = "bendtheknee.8.a"
		IF = {
			limit = {
				RIG = {
					has_country_flag = hail_popeman_subject
				}
			}
			create_subject = {
				subject_type = papal_vassal
				subject = RIG
			}
		}
		ELSE_IF = {
			limit = {
				KNI = {
					has_country_flag = screw_pope_subject
				}
			}
			excommunicate = RIG
		}
		IF = {
			limit = {
				KNI = {
					has_country_flag = hail_popeman_subject
				}
			}
			create_subject = {
				subject_type = papal_vassal
				subject = KNI
			}
		}
		ELSE_IF = {
			limit = {
				KNI = {
					has_country_flag = screw_pope_subject
				}
			}
			excommunicate = KNI
		}
		IF = {
			limit = {
				LIV = {
					has_country_flag = hail_popeman_subject
				}
			}
			create_subject = {
				subject_type = papal_vassal
				subject = LIV
			}
		}
		ELSE_IF = {
			limit = {
				KNI = {
					has_country_flag = screw_pope_subject
				}
			}
			excommunicate = LIV
		}
		IF = {
			limit = {
				TEU = {
					has_country_flag = hail_popeman_subject
				}
			}
			create_subject = {
				subject_type = papal_vassal
				subject = TEU
			}
		}
		ELSE_IF = {
			limit = {
				TEU = {
					has_country_flag = screw_pope_subject
				}
			}
			excommunicate = TEU
		}
		IF = {
			limit = {
				TKT = {
					has_country_flag = hail_popeman_subject
				}
			}
			create_subject = {
				subject_type = papal_vassal
				subject = TKT
			}
		}
		ELSE_IF = {
			limit = {
				TKT = {
					has_country_flag = screw_pope_subject
				}
			}
			excommunicate = TKT
		}
	}
}

# The DYNASTYNAME theocratic_autocracy has fallen!
province_event = {
	id = bendtheknee.9
	title = "bendtheknee.9.t"
	picture = COURT_eventPicture
	major = yes
	is_triggered_only = yes
	desc = {
		trigger = {
			owner = {
				has_reform = theocratic_autocracy
			}
			FROM = {
				has_reform = theocratic_autocracy
			}
		}
		desc = bendtheknee.9.da
	}
	desc = {
		trigger = {
			owner = {
				has_reform = theocratic_autocracy
			}
			FROM = {
				NOT = {
					has_reform = theocratic_autocracy
				}
			}
		}
		desc = bendtheknee.9.db
	}
	desc = {
		trigger = {
			owner = {
				NOT = {
					has_reform = theocratic_autocracy
				}
			}
		}
		desc = bendtheknee.9.dc
	}
	trigger = {
		# OBS! These checks are also hard coded in WouldBecometheocratic_autocracyIfTaking() for AI and interface reasons. Change code too if this trigger changes.
		province_id = 151
		#owner = {
		#	OR = {
		#		has_reform = grk_demo
		#		has_reform = oligarchic_reform
		#	}
		#}
	}
	immediate = {
		#Save new owner as theocratic_autocracy if valid
		hidden_effect = {
			owner = {
				if = {
					limit = {
						has_reform = grk_demo
						culture_group = byzantine
					}
					add_core = 151
					set_capital = 151
					#There was a bug, which made it possible that the new theocratic_autocracy remained a grk_demo despite having Constantinople
					#I couldn't replicate it though, so I hope the line below might fix it - in the worst case it does nothing
					grant_independence = yes
					change_government_to_monarchy = yes
					add_government_reform = theocratic_autocracy
					add_government_reform = theocratic_autocracy
					save_event_target_as = new_theocratic_autocracy
				}
			}
		}
		#Handle grk_demo transfer
		hidden_effect = {
			#Case - new owner is the new theocratic_autocracy, previous still lives -> all grk_demos get transferred from the previous to the new one
			if = {
				limit = {
					FROM = {
						exists = yes
					}
					owner = {
						has_reform = theocratic_autocracy
					}
					FROM = {
						has_reform = theocratic_autocracy
					}
				}
				#Degrade the previous theocratic_autocracy to grk_demo level
				FROM = {
					every_subject_country = {
						limit = {
							is_subject_of_type = greek_vassal
						}
						set_country_flag = tobe_grk_demo_of_new_theocratic_autocracy
						grant_independence = yes
					}
					event_target:new_theocratic_autocracy = {
						create_subject = {
							subject_type = greek_vassal
							subject = FROM
						}
					}
					set_government_rank = 1
					add_government_reform = grk_demo
				}
				#Vassalize all of the former grk_demos
				#NOTE: originally, it was intended that grk_demos, who are at war with the theocratic_autocracy, should not be vassalized
				every_country = {
					limit = {
						has_country_flag = tobe_grk_demo_of_new_theocratic_autocracy
					}
					event_target:new_theocratic_autocracy = {
						create_subject = {
							subject_type = greek_vassal
							subject = PREV
						}
					}
				}
				owner = {
					country_event = {
						id = bendtheknee.12
						days = 1
					}
				}
			}
			#Case - new owner is not the new theocratic_autocracy, previous still lives -> all grk_demos get free
			if = {
				limit = {
					FROM = {
						exists = yes
					}
					NOT = {
						owner = {
							has_reform = theocratic_autocracy
						}
					}
					FROM = {
						has_reform = theocratic_autocracy
					}
				}
				FROM = {
					every_subject_country = {
						limit = {
							is_subject_of_type = greek_vassal
						}
						grant_independence = yes
						if = {
							limit = {
								has_reform = grk_demo
							}
							add_government_reform = oligarchic_republic
						}
					}
					add_government_reform = oligarchic_republic
				}
			}
			#Case - new owner is theocratic_autocracy, previous theocratic_autocracy is dead -> all grk_demos become subjects of the new theocratic_autocracy
			if = {
				limit = {
					NOT = {
						FROM = {
							exists = yes
						}
					}
					owner = {
						has_reform = theocratic_autocracy
					}
				}
				every_country = {
					limit = {
						has_reform = grk_demo
						NOT = {
							war_with = event_target:new_theocratic_autocracy
						}
					}
					event_target:new_theocratic_autocracy = {
						create_subject = {
							subject_type = greek_vassal
							subject = PREV
						}
					}
				}
				every_country = {
					limit = {
						has_reform = grk_demo
						war_with = event_target:new_theocratic_autocracy
					}
					add_government_reform = oligarchic_republic
				}
			}
			#Case - new owner is not the new theocratic_autocracy, previous one is dead -> all former grk_demos become independent grk_demo
			if = {
				limit = {
					NOT = {
						FROM = {
							exists = yes
						}
					}
					NOT = {
						owner = {
							has_reform = theocratic_autocracy
						}
					}
				}
				every_country = {
					limit = {
						has_reform = grk_demo
					}
					overlord = {
						free_vassal = PREV
					}
					add_government_reform = oligarchic_republic
				}
			}
		}
		#Catch all remaining grk_demos and let them free
		hidden_effect = {
			if = {
				limit = {
					any_country = {
						is_subject_of_type = greek_vassal
						NOT = {
							overlord = {
								has_reform = theocratic_autocracy
							}
						}
					}
				}
				every_country = {
					limit = {
						is_subject_of_type = greek_vassal
						NOT = {
							overlord = {
								has_reform = theocratic_autocracy
							}
						}
					}
					overlord = {
						free_vassal = PREV
					}
					if = {
						limit = {
							has_reform = grk_demo
						}
						remove_government_reform = grk_demo
						add_government_reform = oligarchic_republic
					}
				}
			}
		}
	}
	option = {
		name = "japan.EVTOPTA1"
		if = {
			limit = {
				owner = {
					has_reform = grk_demo
				}
			}
			custom_tooltip = claiming_the_theocratic_autocracy_tooltip
		}
		if = {
			limit = {
				NOT = {
					owner = {
						has_reform = theocratic_autocracy
					}
				}
			}
			owner = {
				if = {
					limit = {
						NOT = {
							has_country_flag = destroyed_theocratic_autocracy
						}
					}
					add_prestige = 20
					add_adm_power = 50
					add_dip_power = 50
					add_mil_power = 50
					set_country_flag = destroyed_theocratic_autocracy
				}
			}
		}
	}
}

# I couldn't actually find a way to get this event to fire from the last one, so I assume that the NOT = { exists = FROM } bit is actually unused. But just in case I missed something, it seems better to add this anyway.
# New theocratic_autocracy - join or not?
country_event = {
	id = bendtheknee.10
	title = bendtheknee.10.name
	desc = bendtheknee.10.desc
	picture = COURT_eventPicture
	is_triggered_only = yes
	option = {
		#be a grk_demo
		name = bendtheknee.10.A
		event_target:new_theocratic_autocracy = {
			create_subject = {
				subject_type = greek_vassal
				subject = ROOT
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		#don't be a grk_demo
		name = bendtheknee.10.B
		event_target:new_theocratic_autocracy = {
			add_opinion = {
				who = root
				modifier = opinion_defy_new_theocratic_autocracy
			}
			country_event = {
				id = bendtheknee.11
				days = 1
			}
			add_casus_belli = {
				target = ROOT
				type = cb_vassalize_mission
				months = 300
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1
				NOT = {
					num_of_cities = 10
				}
			}
		}
	}
}

country_event = {
	id = bendtheknee.11
	title = bendtheknee.11.name
	desc = bendtheknee.11.desc
	picture = COURT_eventPicture
	is_triggered_only = yes
	option = {
		#be a grk_demo
		name = bendtheknee.11.opt
		event_target:new_theocratic_autocracy = {
			create_subject = {
				subject_type = greek_vassal
				subject = ROOT
			}
		}
	}
}

country_event = {
	id = bendtheknee.12
	title = bendtheknee.12.t
	desc = bendtheknee.12.desc
	picture = COURT_eventPicture
	is_triggered_only = yes
	hidden = yes
	option = {
		#We don't follow a bully
		name = bendtheknee.12.a
		every_country = {
			limit = {
				has_country_flag = tobe_grk_demo_of_new_theocratic_autocracy
			}
			clr_country_flag = tobe_grk_demo_of_new_theocratic_autocracy
			if = {
				limit = {
					war_with = ROOT
					is_subject_of = ROOT
				}
				grant_independence = yes
				if = {
					limit = {
						has_reform = grk_demo
					}
					add_government_reform = oligarchic_republic
				}
				#The Shogun should be able to retake his defected grk_demos
				reverse_add_casus_belli = {
					target = ROOT
					type = cb_vassalize_mission
					months = 300
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = bendtheknee.13
	title = "bendtheknee.13.t"
	desc = "bendtheknee.13.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			culture_group = byzantine
			NOT = {
				has_reform = theocratic_autocracy
			}
		}
		NOT = {
			has_country_flag = screw_hegemon
		}
		NOT = {
			has_country_flag = hail_hegemon
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		BYZ = {
			set_country_flag = byz_asks_for_subjects
		}
	}
	option = {
		name = "bendtheknee.13.a"
		set_country_flag = hail_hegemon
		ai_chance = {
			factor = 95
		}
	}
	option = {
		name = "bendtheknee.7.b"
		custom_tooltip = "bendtheknee.screwhegemon.tt"
		set_country_flag = screw_hegemon
		ai_chance = {
			factor = 5
		}
	}
}

country_event = {
	id = bendtheknee.14
	title = "bendtheknee.14.t"
	desc = "bendtheknee.14.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = byz_asks_for_subjects
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "bendtheknee.14.a"
		IF = {
			limit = {
				AEG = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = AEG
			}
		}
		ELSE_IF = {
			limit = {
				AEG = {
					has_country_flag = screw_hegemon
				}
			}
			AEG = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				AZV = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = AZV
			}
		}
		ELSE_IF = {
			limit = {
				AZV = {
					has_country_flag = screw_hegemon
				}
			}
			AZV = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				CND = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = CND
			}
		}
		ELSE_IF = {
			limit = {
				CND = {
					has_country_flag = screw_hegemon
				}
			}
			CND = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				CEP = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = CEP
			}
		}
		ELSE_IF = {
			limit = {
				CEP = {
					has_country_flag = screw_hegemon
				}
			}
			CEP = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				CRT = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = CRT
			}
		}
		ELSE_IF = {
			limit = {
				CRT = {
					has_country_flag = screw_hegemon
				}
			}
			CRT = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				EPI = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = EPI
			}
		}
		ELSE_IF = {
			limit = {
				EPI = {
					has_country_flag = screw_hegemon
				}
			}
			EPI = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				MAC = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = MAC
			}
		}
		ELSE_IF = {
			limit = {
				MAC = {
					has_country_flag = screw_hegemon
				}
			}
			MAC = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				MOE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = MOE
			}
		}
		ELSE_IF = {
			limit = {
				MOE = {
					has_country_flag = screw_hegemon
				}
			}
			MOE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				NAX = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = NAX
			}
		}
		ELSE_IF = {
			limit = {
				NAX = {
					has_country_flag = screw_hegemon
				}
			}
			NAX = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				TRE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = greek_vassal
				subject = TRE
			}
		}
		ELSE_IF = {
			limit = {
				TRE = {
					has_country_flag = screw_hegemon
				}
			}
			TRE = {
				add_stability = -1
			}
		}
	}
}

# The DYNASTYNAME beylik_autocracy has fallen!
province_event = {
	id = bendtheknee.15
	title = "bendtheknee.15.t"
	picture = COURT_eventPicture
	major = yes
	is_triggered_only = yes
	desc = {
		trigger = {
			owner = {
				has_reform = beylik_autocracy
			}
			FROM = {
				has_reform = beylik_autocracy
			}
		}
		desc = bendtheknee.15.da
	}
	desc = {
		trigger = {
			owner = {
				has_reform = beylik_autocracy
			}
			FROM = {
				NOT = {
					has_reform = beylik_autocracy
				}
			}
		}
		desc = bendtheknee.15.db
	}
	desc = {
		trigger = {
			owner = {
				NOT = {
					has_reform = beylik_autocracy
				}
			}
		}
		desc = bendtheknee.15.dc
	}
	trigger = {
		# OBS! These checks are also hard coded in WouldBecomebeylik_autocracyIfTaking() for AI and interface reasons. Change code too if this trigger changes.
		province_id = 326
		#owner = {
		#		has_reform = expanded_devshirme_reform
		#	}
		#}
	}
	immediate = {
		#Save new owner as beylik_autocracy if valid
		hidden_effect = {
			owner = {
				if = {
					limit = {
						has_reform = expanded_devshirme_reform
						OR = {
							culture = osman
							culture = karamanli
							culture = eretnid
							culture = cillician
							culture = sahili
						}
					}
					add_core = 326
					set_capital = 326
					#There was a bug, which made it possible that the new beylik_autocracy remained a expanded_devshirme_reform despite having Constantinople
					#I couldn't replicate it though, so I hope the line below might fix it - in the worst case it does nothing
					grant_independence = yes
					change_government_to_monarchy = yes
					add_government_reform = beylik_autocracy
					add_government_reform = beylik_autocracy
					save_event_target_as = new_beylik_autocracy
				}
			}
		}
		#Handle expanded_devshirme_reform transfer
		hidden_effect = {
			#Case - new owner is the new beylik_autocracy, previous still lives -> all expanded_devshirme_reforms get transferred from the previous to the new one
			if = {
				limit = {
					FROM = {
						exists = yes
					}
					owner = {
						has_reform = beylik_autocracy
					}
					FROM = {
						has_reform = beylik_autocracy
					}
				}
				#Degrade the previous beylik_autocracy to expanded_devshirme_reform level
				FROM = {
					every_subject_country = {
						limit = {
							is_subject_of_type = beylik_vassal
						}
						set_country_flag = tobe_expanded_devshirme_reform_of_new_beylik_autocracy
						grant_independence = yes
					}
					event_target:new_beylik_autocracy = {
						create_subject = {
							subject_type = beylik_vassal
							subject = FROM
						}
					}
					set_government_rank = 1
					add_government_reform = expanded_devshirme_reform
				}
				#Vassalize all of the former expanded_devshirme_reforms
				#NOTE: originally, it was intended that expanded_devshirme_reforms, who are at war with the beylik_autocracy, should not be vassalized
				every_country = {
					limit = {
						has_country_flag = tobe_expanded_devshirme_reform_of_new_beylik_autocracy
					}
					event_target:new_beylik_autocracy = {
						create_subject = {
							subject_type = beylik_vassal
							subject = PREV
						}
					}
				}
				owner = {
					country_event = {
						id = bendtheknee.18
						days = 1
					}
				}
			}
			#Case - new owner is not the new beylik_autocracy, previous still lives -> all expanded_devshirme_reforms get free
			if = {
				limit = {
					FROM = {
						exists = yes
					}
					NOT = {
						owner = {
							has_reform = beylik_autocracy
						}
					}
					FROM = {
						has_reform = beylik_autocracy
					}
				}
				FROM = {
					every_subject_country = {
						limit = {
							is_subject_of_type = beylik_vassal
						}
						grant_independence = yes
						if = {
							limit = {
								has_reform = expanded_devshirme_reform
							}
							add_government_reform = beylik
						}
					}
					add_government_reform = beylik
				}
			}
			#Case - new owner is beylik_autocracy, previous beylik_autocracy is dead -> all expanded_devshirme_reforms become subjects of the new beylik_autocracy
			if = {
				limit = {
					NOT = {
						FROM = {
							exists = yes
						}
					}
					owner = {
						has_reform = beylik_autocracy
					}
				}
				every_country = {
					limit = {
						has_reform = expanded_devshirme_reform
						NOT = {
							war_with = event_target:new_beylik_autocracy
						}
					}
					event_target:new_beylik_autocracy = {
						create_subject = {
							subject_type = beylik_vassal
							subject = PREV
						}
					}
				}
				every_country = {
					limit = {
						has_reform = expanded_devshirme_reform
						war_with = event_target:new_beylik_autocracy
					}
					add_government_reform = beylik
				}
			}
			#Case - new owner is not the new beylik_autocracy, previous one is dead -> all former expanded_devshirme_reforms become independent expanded_devshirme_reform
			if = {
				limit = {
					NOT = {
						FROM = {
							exists = yes
						}
					}
					NOT = {
						owner = {
							has_reform = beylik_autocracy
						}
					}
				}
				every_country = {
					limit = {
						has_reform = expanded_devshirme_reform
					}
					overlord = {
						free_vassal = PREV
					}
					add_government_reform = beylik
				}
			}
		}
		#Catch all remaining expanded_devshirme_reforms and let them free
		hidden_effect = {
			if = {
				limit = {
					any_country = {
						is_subject_of_type = beylik_vassal
						NOT = {
							overlord = {
								has_reform = beylik_autocracy
							}
						}
					}
				}
				every_country = {
					limit = {
						is_subject_of_type = beylik_vassal
						NOT = {
							overlord = {
								has_reform = beylik_autocracy
							}
						}
					}
					overlord = {
						free_vassal = PREV
					}
					if = {
						limit = {
							has_reform = expanded_devshirme_reform
						}
						remove_government_reform = expanded_devshirme_reform
						add_government_reform = beylik
					}
				}
			}
		}
	}
	option = {
		name = "japan.EVTOPTA1"
		if = {
			limit = {
				owner = {
					has_reform = expanded_devshirme_reform
				}
			}
			custom_tooltip = claiming_the_beylik_autocracy_tooltip
		}
		if = {
			limit = {
				NOT = {
					owner = {
						has_reform = beylik_autocracy
					}
				}
			}
			owner = {
				if = {
					limit = {
						NOT = {
							has_country_flag = destroyed_beylik_autocracy
						}
					}
					add_prestige = 20
					add_adm_power = 50
					add_dip_power = 50
					add_mil_power = 50
					set_country_flag = destroyed_beylik_autocracy
				}
			}
		}
	}
}

# I couldn't actually find a way to get this event to fire from the last one, so I assume that the NOT = { exists = FROM } bit is actually unused. But just in case I missed something, it seems better to add this anyway.
# New beylik_autocracy - join or not?
country_event = {
	id = bendtheknee.16
	title = bendtheknee.16.name
	desc = bendtheknee.16.desc
	picture = COURT_eventPicture
	is_triggered_only = yes
	option = {
		#be a expanded_devshirme_reform
		name = bendtheknee.16.A
		event_target:new_beylik_autocracy = {
			create_subject = {
				subject_type = beylik_vassal
				subject = ROOT
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		#don't be a expanded_devshirme_reform
		name = bendtheknee.16.B
		event_target:new_beylik_autocracy = {
			add_opinion = {
				who = root
				modifier = opinion_defy_new_beylik_autocracy
			}
			country_event = {
				id = bendtheknee.17
				days = 1
			}
			add_casus_belli = {
				target = ROOT
				type = cb_vassalize_mission
				months = 300
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 1
				NOT = {
					num_of_cities = 10
				}
			}
		}
	}
}

country_event = {
	id = bendtheknee.17
	title = bendtheknee.17.name
	desc = bendtheknee.17.desc
	picture = COURT_eventPicture
	is_triggered_only = yes
	option = {
		#be a expanded_devshirme_reform
		name = bendtheknee.17.opt
		event_target:new_beylik_autocracy = {
			create_subject = {
				subject_type = beylik_vassal
				subject = ROOT
			}
		}
	}
}

country_event = {
	id = bendtheknee.18
	title = bendtheknee.18.t
	desc = bendtheknee.18.desc
	picture = COURT_eventPicture
	is_triggered_only = yes
	hidden = yes
	option = {
		#We don't follow a bully
		name = bendtheknee.18.a
		every_country = {
			limit = {
				has_country_flag = tobe_expanded_devshirme_reform_of_new_beylik_autocracy
			}
			clr_country_flag = tobe_expanded_devshirme_reform_of_new_beylik_autocracy
			if = {
				limit = {
					war_with = ROOT
					is_subject_of = ROOT
				}
				grant_independence = yes
				if = {
					limit = {
						has_reform = expanded_devshirme_reform
					}
					add_government_reform = beylik
				}
				#The Shogun should be able to retake his defected expanded_devshirme_reforms
				reverse_add_casus_belli = {
					target = ROOT
					type = cb_vassalize_mission
					months = 300
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = bendtheknee.19
	title = "bendtheknee.19.t"
	desc = "bendtheknee.19.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			OR = {
				culture = osman
				culture = karamanli
				culture = eretnid
				culture = cillician
				culture = sahili
				tag = AKK
				tag = BTL
				tag = HSN
			}
			NOT = {
				has_reform = beylik_autocracy
			}
		}
		NOT = {
			has_country_flag = screw_hegemon
		}
		NOT = {
			has_country_flag = hail_hegemon
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		OSM = {
			set_country_flag = osm_asks_for_subjects
		}
	}
	option = {
		name = "bendtheknee.19.a"
		set_country_flag = hail_hegemon
		ai_chance = {
			factor = 95
		}
	}
	option = {
		name = "bendtheknee.7.b"
		custom_tooltip = "bendtheknee.screwhegemon.tt"
		set_country_flag = screw_hegemon
		ai_chance = {
			factor = 5
		}
	}
}

country_event = {
	id = bendtheknee.20
	title = "bendtheknee.20.t"
	desc = "bendtheknee.20.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = osm_asks_for_subjects
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "bendtheknee.20.a"
		IF = {
			limit = {
				AYD = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = AYD
			}
		}
		ELSE_IF = {
			limit = {
				AYD = {
					has_country_flag = screw_hegemon
				}
			}
			AYD = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				AKK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = AKK
			}
		}
		ELSE_IF = {
			limit = {
				AKK = {
					has_country_flag = screw_hegemon
				}
			}
			AKK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				BTL = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = BTL
			}
		}
		ELSE_IF = {
			limit = {
				BTL = {
					has_country_flag = screw_hegemon
				}
			}
			BTL = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				DUL = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = DUL
			}
		}
		ELSE_IF = {
			limit = {
				DUL = {
					has_country_flag = screw_hegemon
				}
			}
			DUL = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				ERE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = ERE
			}
		}
		ELSE_IF = {
			limit = {
				ERE = {
					has_country_flag = screw_hegemon
				}
			}
			ERE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				GRM = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = GRM
			}
		}
		ELSE_IF = {
			limit = {
				GRM = {
					has_country_flag = screw_hegemon
				}
			}
			GRM = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HSN = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = HSN
			}
		}
		ELSE_IF = {
			limit = {
				HSN = {
					has_country_flag = screw_hegemon
				}
			}
			HSN = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				KAR = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = KAR
			}
		}
		ELSE_IF = {
			limit = {
				KAR = {
					has_country_flag = screw_hegemon
				}
			}
			KAR = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				RAM = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = RAM
			}
		}
		ELSE_IF = {
			limit = {
				RAM = {
					has_country_flag = screw_hegemon
				}
			}
			RAM = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				SRU = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = beylik_vassal
				subject = SRU
			}
		}
		ELSE_IF = {
			limit = {
				SRU = {
					has_country_flag = screw_hegemon
				}
			}
			SRU = {
				add_stability = -1
			}
		}
	}
}

country_event = {
	id = bendtheknee.21
	title = "bendtheknee.21.t"
	desc = {
		trigger = {
			FROM = {
				has_reform = beylik_autocracy
			}
		}
		desc = bendtheknee.21.dT
	}
	desc = {
		trigger = {
			FROM = {
				has_reform = theocratic_autocracy
			}
		}
		desc = bendtheknee.21.dG
	}
	picture = POPE_PREACHING_eventPicture
	trigger = {
		OR = {
			AND = {
				has_reform = theocratic_autocracy
				has_subject_of_type = beylik_vassal
			}
			AND = {
				has_reform = beylik_autocracy
				has_subject_of_type = greek_vassal
			}
		}
		NOT = {
			current_age = age_of_absolutism
		}
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "bendtheknee.21.a"
		IF = {
			limit = {
				AND = {
					has_reform = theocratic_autocracy
					has_subject_of_type = beylik_vassal
				}
			}
			hidden_effect = {
				create_subject = {
					subject_type = vassal
					subject = AYD
				}
				create_subject = {
					subject_type = vassal
					subject = AKK
				}
				create_subject = {
					subject_type = vassal
					subject = BTL
				}
				create_subject = {
					subject_type = vassal
					subject = DUL
				}
				create_subject = {
					subject_type = vassal
					subject = ERE
				}
				create_subject = {
					subject_type = vassal
					subject = GRM
				}
				create_subject = {
					subject_type = vassal
					subject = HSN
				}
				create_subject = {
					subject_type = vassal
					subject = KAR
				}
				create_subject = {
					subject_type = vassal
					subject = MEN
				}
				create_subject = {
					subject_type = vassal
					subject = OSM
				}
				create_subject = {
					subject_type = vassal
					subject = RAM
				}
				create_subject = {
					subject_type = vassal
					subject = SRU
				}
			}
		}
		ELSE_IF = {
			limit = {
				AND = {
					has_reform = beylik_autocracy
					has_subject_of_type = greek_vassal
				}
			}
			hidden_effect = {
				create_subject = {
					subject_type = vassal
					subject = AEG
				}
				create_subject = {
					subject_type = vassal
					subject = AZV
				}
				create_subject = {
					subject_type = vassal
					subject = BYZ
				}
				create_subject = {
					subject_type = vassal
					subject = CND
				}
				create_subject = {
					subject_type = vassal
					subject = CEP
				}
				create_subject = {
					subject_type = vassal
					subject = CRT
				}
				create_subject = {
					subject_type = vassal
					subject = EPI
				}
				create_subject = {
					subject_type = vassal
					subject = MAC
				}
				create_subject = {
					subject_type = vassal
					subject = MOE
				}
				create_subject = {
					subject_type = vassal
					subject = NAX
				}
				create_subject = {
					subject_type = vassal
					subject = TRE
				}
			}
			hidden_effect = {
				country_event = {
					id = bendtheknee.22
					days = 5475
				}
			}
		}
	}
}

country_event = {
	id = bendtheknee.22
	title = "bendtheknee.21.t"
	desc = {
		trigger = {
			FROM = {
				has_reform = beylik_autocracy
			}
		}
		desc = bendtheknee.21.dT
	}
	desc = {
		trigger = {
			FROM = {
				has_reform = theocratic_autocracy
			}
		}
		desc = bendtheknee.21.dG
	}
	picture = POPE_PREACHING_eventPicture
	trigger = {
		OR = {
			AND = {
				has_reform = theocratic_autocracy
				has_subject_of_type = beylik_vassal
			}
			AND = {
				has_reform = beylik_autocracy
				has_subject_of_type = greek_vassal
			}
		}
		NOT = {
			current_age = age_of_absolutism
		}
	}
	mean_time_to_happen = {
		months = 12
	}
	option = {
		name = "bendtheknee.22.a"
		IF = {
			limit = {
				has_reform = theocratic_autocracy
			}
			custom_tooltip = "bendtheknee.22.greektt"
			hidden_effect = {
				free_vassal = AYD
				free_vassal = AKK
				free_vassal = BTL
				free_vassal = DUL
				free_vassal = ERE
				free_vassal = GRM
				free_vassal = HSN
				free_vassal = KAR
				free_vassal = MEN
				free_vassal = OSM
				free_vassal = RAM
				free_vassal = SRU
			}
		}
		ELSE_IF = {
			limit = {
				has_reform = beylik_autocracy
			}
			custom_tooltip = "bendtheknee.22.turkishtt"
			hidden_effect = {
				free_vassal = AEG
				free_vassal = AZV
				free_vassal = BYZ
				free_vassal = CND
				free_vassal = CEP
				free_vassal = CRT
				free_vassal = EPI
				free_vassal = MAC
				free_vassal = MOE
				free_vassal = NAX
				free_vassal = TRE
			}
		}
	}
}

country_event = {
	id = bendtheknee.23
	title = "bendtheknee.23.t"
	desc = "bendtheknee.23.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			culture_group = japanese_g
			}
			NOT = {
				has_reform = daimyo
			}
			NOT = {
				has_reform = shogunate
			}
			NOT = {
				has_country_flag = screw_hegemon
			}
			NOT = {
				has_country_flag = hail_hegemon
			}
			NOT = {
				has_country_flag = ask_asks_for_subjects
			}
		}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		ASK = {
			set_country_flag = ask_asks_for_subjects
		}
	}
	option = {
		name = "bendtheknee.19.a"
		set_country_flag = hail_hegemon
		ai_chance = {
			factor = 50
		}
	}
	option = {
		name = "bendtheknee.7.b"
		custom_tooltip = "bendtheknee.screwjapan.tt"
		set_country_flag = screw_hegemon
		ai_chance = {
			factor = 50
		}
	}
}
country_event = {
	id = bendtheknee.24
	title = "bendtheknee.24.t"
	desc = "bendtheknee.24.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = ask_asks_for_subjects
	}
	mean_time_to_happen = {
		months = 3
	}
	option = {
		name = "bendtheknee.24.a"
		IF = {
			limit = {
				AMA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = AMA
			}
		}
		ELSE_IF = {
			limit = {
				AMA = {
					has_country_flag = screw_hegemon
				}
			}
			AMA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				ASA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = ASA
			}
		}
		ELSE_IF = {
			limit = {
				ASA = {
					has_country_flag = screw_hegemon
				}
			}
			ASA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				CSK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = CSK
			}
		}
		ELSE_IF = {
			limit = {
				AMA = {
					has_country_flag = screw_hegemon
				}
			}
			CSK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				DTE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = DTE
			}
		}
		ELSE_IF = {
			limit = {
				DTE = {
					has_country_flag = screw_hegemon
				}
			}
			DTE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HJO = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = HJO
			}
		}
		ELSE_IF = {
			limit = {
				HJO = {
					has_country_flag = screw_hegemon
				}
			}
			HJO = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HSK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = HSK
			}
		}
		ELSE_IF = {
			limit = {
				HSK = {
					has_country_flag = screw_hegemon
				}
			}
			HSK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HTK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = HTK
			}
		}
		ELSE_IF = {
			limit = {
				HTK = {
					has_country_flag = screw_hegemon
				}
			}
			HTK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				IKE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = IKE
			}
		}
		ELSE_IF = {
			limit = {
				IKE = {
					has_country_flag = screw_hegemon
				}
			}
			IKE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				IMG = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = IMG
			}
		}
		ELSE_IF = {
			limit = {
				IMG = {
					has_country_flag = screw_hegemon
				}
			}
			IMG = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				MAE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = MAE
			}
		}
		ELSE_IF = {
			limit = {
				MAE = {
					has_country_flag = screw_hegemon
				}
			}
			MAE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				MRI = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = MRI
			}
		}
		ELSE_IF = {
			limit = {
				MRI = {
					has_country_flag = screw_hegemon
				}
			}
			MRI = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				ODA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = ODA
			}
		}
		ELSE_IF = {
			limit = {
				ODA = {
					has_country_flag = screw_hegemon
				}
			}
			ODA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				OTM = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = OTM
			}
		}
		ELSE_IF = {
			limit = {
				OTM = {
					has_country_flag = screw_hegemon
				}
			}
			OTM = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				OUC = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = OUC
			}
		}
		ELSE_IF = {
			limit = {
				OUC = {
					has_country_flag = screw_hegemon
				}
			}
			OUC = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				SBA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = SBA
			}
		}
		ELSE_IF = {
			limit = {
				SBA = {
					has_country_flag = screw_hegemon
				}
			}
			SBA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				SMZ = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = SMZ
			}
		}
		ELSE_IF = {
			limit = {
				SMZ = {
					has_country_flag = screw_hegemon
				}
			}
			SMZ = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				TKD = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = TKD
			}
		}
		ELSE_IF = {
			limit = {
				TKD = {
					has_country_flag = screw_hegemon
				}
			}
			TKD = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				TKG = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = TKG
			}
		}
		ELSE_IF = {
			limit = {
				TKG = {
					has_country_flag = screw_hegemon
				}
			}
			TKG = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				UES = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = UES
			}
		}
		ELSE_IF = {
			limit = {
				UES = {
					has_country_flag = screw_hegemon
				}
			}
			UES = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				YMN = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = YMN
			}
		}
		ELSE_IF = {
			limit = {
				YMN = {
					has_country_flag = screw_hegemon
				}
			}
			YMN = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				RFR = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = RFR
			}
		}
		ELSE_IF = {
			limit = {
				RFR = {
					has_country_flag = screw_hegemon
				}
			}
			RFR = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				KTB = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = KTB
			}
		}
		ELSE_IF = {
			limit = {
				KTB = {
					has_country_flag = screw_hegemon
				}
			}
			KTB = {
				add_stability = -1
			}
		}
	}
}